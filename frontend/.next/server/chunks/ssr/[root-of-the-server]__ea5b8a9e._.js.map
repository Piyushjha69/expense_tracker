{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../node_modules/lucide-react/src/icons/arrow-left.ts","../../../../app/%28auth%29/login/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n","\"use client\"\n\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { ArrowLeft } from \"lucide-react\";\nimport { useAuth } from \"../../lib/useAuth\";\nimport { useState } from \"react\";\nimport { apiFetch } from \"../../lib/api\";\nimport { setAccessToken, setRefreshToken } from \"../../lib/auth\";\nimport { toast } from \"sonner\";\n\nexport default function loginPage() {\n    const router = useRouter();\n    const { isLoading: authLoading } = useAuth(false)\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [loading, setLoading] = useState(false)\n    const [errors, setErrors] = useState<{ email?:string; password?:string}>({})\n\n    function validateForm () {\n        const newErrors : { email?:string; password?:string } = {}\n\n        if (!email.trim()){\n            newErrors.email = \"Email is required\"\n        } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {  // Regex E-mail validation (checks email format)\n            newErrors.email = \"Please enter a valid E-mail\" \n        }\n\n        if (!password) {\n            newErrors.password = \"Password is required\"\n        } else if ( password.length < 6 ) {\n            newErrors.password = \"Password must be at least 6 characters\"\n        }\n\n        setErrors (newErrors)\n        return Object.keys(newErrors).length === 0;\n    }\n\n    async function handleLogin (e: React.FormEvent) {\n        e.preventDefault();\n\n        if (!validateForm()) return \n\n        setLoading(true)\n\n        try {\n            console.log(\"Attempting login with email:\", email)\n            const res = await apiFetch(\"/login\", {\n                method: \"POST\",\n                body: JSON.stringify({ email, password})\n            })\n\n            console.log(\"Login response status:\", res.status)\n            const data = await res.json()\n            console.log(\"Login response data:\", data)\n            \n            if(!data.success) throw new Error(data.message || \"Login failed\")\n\n            const tokens = data.data.tokens\n            setAccessToken(tokens.accessToken)\n            setRefreshToken(tokens.refreshToken)\n\n            toast.success(\"Login successful!\")\n            router.push(\"/expense\")\n        } catch (err: any) {\n            console.error(\"Login error:\", err)\n            toast.error(err.message || \"Login Failed\")\n        } finally {\n            setLoading(false)\n        }\n    }\n\n    if (authLoading) {\n        return (\n            <div className=\"flex items-center justify-center min-h-screen\">\n                <div className=\"text-center\">Loading...</div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-gradient-to-br from-purple-950 via-black to-indigo-950\">\n            <header className=\"border-b border-purple-500/30 bg-black/30 backdrop-blur-sm shadow-lg shadow-purple-500/10\">\n                <div className=\"max-w-md mx-auto px-4 py-6\">\n                    <Link\n                        href=\"/\"\n                        className=\"flex items-center gap-2 text-sm text-cyan-400 hover:text-cyan-300 transition-colors\"\n                    >\n                        <ArrowLeft size={16} />\n                        Back\n                    </Link>\n                </div>\n            </header>\n\n            <div className=\"flex-1 flex items-center justify-center px-4 py-8\">\n                <div className=\"w-full max-w-md\">\n                    <div className=\"bg-black/40 rounded-lg border border-purple-500/40 p-6 backdrop-blur-md shadow-lg shadow-purple-500/20\">\n                        <h1 className=\"text-2xl font-bold bg-gradient-to-r from-cyan-300 to-purple-300 bg-clip-text text-transparent mb-6\">Sign In</h1>\n                        <form onSubmit={handleLogin} className=\"space-y-4\">\n                            <div>\n                                <input\n                                    id=\"email\"\n                                    name=\"email\"\n                                    type=\"email\"\n                                    placeholder=\"Email\"\n                                    autoComplete=\"email\"\n                                    value={email}\n                                    onChange={(e) => {\n                                        setEmail(e.target.value);\n                                        if (errors.email)\n                                            setErrors({ ...errors, email: undefined });\n                                    }}\n                                    className=\"w-full px-3 py-2 bg-black/50 border border-cyan-500/50 rounded text-cyan-300 placeholder-cyan-600 focus:outline-none focus:border-cyan-400 focus:ring-2 focus:ring-cyan-500/30\"\n                                />\n                                {errors.email && (\n                                    <p className=\"text-pink-400 text-sm mt-1\">{errors.email}</p>\n                                )}\n                            </div>\n\n                            <div>\n                                <input\n                                    id=\"password\"\n                                    name=\"password\"\n                                    type=\"password\"\n                                    placeholder=\"Password\"\n                                    autoComplete=\"current-password\"\n                                    value={password}\n                                    onChange={(e) => {\n                                        setPassword(e.target.value);\n                                        if (errors.password)\n                                            setErrors({ ...errors, password: undefined });\n                                    }}\n                                    className=\"w-full px-3 py-2 bg-black/50 border border-pink-500/50 rounded text-pink-300 placeholder-pink-600 focus:outline-none focus:border-pink-400 focus:ring-2 focus:ring-pink-500/30\"\n                                />\n                                {errors.password && (\n                                    <p className=\"text-pink-400 text-sm mt-1\">{errors.password}</p>\n                                )}\n                                </div>\n\n                                <button\n                                disabled={loading}\n                                className=\"w-full px-3 py-2 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 disabled:opacity-50 text-white rounded font-medium transition-all shadow-lg shadow-cyan-500/50\"\n                                >\n                                {loading ? \"Signing in...\" : \"Sign In\"}\n                                </button>\n                        </form>\n\n                        <p className=\"text-center mt-4 text-sm text-purple-300\">\n                            Don&apos;t have an account?{\" \"}\n                            <Link href=\"/register\" className=\"text-cyan-400 hover:text-cyan-300 font-medium\">\n                                Register\n                            </Link>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":["module","exports","require","vendored","ReactServerDOMTurbopackClient","React","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime","ReactDOM"],"mappings":"6CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEC,6BAA6B,+BCFtDJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEE,KAAK,8BCF9BL,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,gBAAgB,+BCFvCN,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACI,kBAAkB,8BCFzCP,GAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACK,kBAAkB,8sBCwBjCR,GAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,iCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEY,eAAe,+BCFxCf,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEa,QAAQ,uBCiBjC,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,EAAY,CAAA,CAAA,CAAA,CAAA,AAAZ,CAAY,AAAZ,CAAY,AAAZ,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAhBC,CAClC,AAe+C,CAf9C,AAe8C,CAf9C,AAe8C,CAf9C,AAe8C,CAf9C,AAe8C,CAf9C,AAe8C,CAf9C,AAe8C,CAf9C,AAe8C,CAf9C,AAAQ,AAesC,CAftC,AAAE,AAeoC,CAAU,CAAA,AAf3C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAkB,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC/C,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAY,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC3C,uECJA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,KACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACpB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAE,UAAW,CAAW,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,GAAC,GACrC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IAC7B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqC,CAAC,GAqB1E,eAAe,EAAa,CAAkB,QAG1C,GAFA,CAEI,CAFF,AAEG,cAFW,EAEK,CArBf,EAAkD,CAAC,EAEpD,EAAM,IAAI,GAEJ,AAAC,CAFM,4BAEuB,IAAI,CAAC,KAC1C,EAAU,CADwC,IACnC,CAAG,6BAAA,EAFlB,EAAU,KAAK,CAAG,oBAKjB,EAEO,EAAS,MAFN,AAEY,CAAG,GAAI,CAC9B,EAAU,QAAQ,CAAG,wCAAA,EAFrB,EAAU,QAAQ,CAAG,uBAKzB,EAAW,GAC8B,IAAlC,OAAO,IAAI,CAAC,GAAW,MAAM,EAQpC,GAAW,GAEX,GAAI,CACA,QAAQ,GAAG,CAAC,+BAAgC,GAC5C,IAAM,EAAM,MAAM,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,SAAU,CACjC,OAAQ,OACR,KAAM,KAAK,SAAS,CAAC,OAAE,WAAO,CAAQ,EAC1C,GAEA,QAAQ,GAAG,CAAC,yBAA0B,EAAI,MAAM,EAChD,IAAM,EAAO,MAAM,EAAI,IAAI,GAG3B,GAFA,QAAQ,GAAG,CAAC,uBAAwB,GAEjC,CAAC,EAAK,OAAO,CAAE,MAAM,AAAI,MAAM,EAAK,OAAO,EAAI,gBAElD,IAAM,EAAS,EAAK,IAAI,CAAC,MAAM,CAC/B,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,EAAO,WAAW,EACjC,CAAA,EAAA,EAAA,eAAA,AAAe,EAAC,EAAO,YAAY,EAEnC,EAAA,KAAK,CAAC,OAAO,CAAC,qBACd,EAAO,IAAI,CAAC,WAChB,CAAE,MAAO,EAAU,CACf,QAAQ,KAAK,CAAC,eAAgB,GAC9B,EAAA,KAAK,CAAC,KAAK,CAAC,EAAI,OAAO,EAAI,eAC/B,QAAU,CACN,EAAW,GACf,EACJ,QAEA,AAAI,EAEI,CAAA,EAAA,EAAA,GAAA,EAAC,CAFQ,KAER,CAAI,UAAU,yDACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBAAc,iBAMrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mFACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,qGACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACD,KAAK,IACL,UAAU,gGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,KAAM,KAAM,cAMnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6DACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mHACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8GAAqG,YACnH,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAa,UAAU,sBACnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,GAAG,QACH,KAAK,QACL,KAAK,QACL,YAAY,QACZ,aAAa,QACb,MAAO,EACP,SAAU,AAAC,IACP,EAAS,EAAE,MAAM,CAAC,KAAK,EACnB,EAAO,KAAK,EACZ,EAAU,CAAE,GAAG,CAAM,CAAE,WAAO,CAAU,EAChD,EACA,UAAU,mLAEb,EAAO,KAAK,EACT,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA8B,EAAO,KAAK,MAI/D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACG,GAAG,WACH,KAAK,WACL,KAAK,WACL,YAAY,WACZ,aAAa,mBACb,MAAO,EACP,SAAU,AAAC,IACP,EAAY,EAAE,MAAM,CAAC,KAAK,EACtB,EAAO,QAAQ,EACf,EAAU,CAAE,GAAG,CAAM,CAAE,cAAU,CAAU,EACnD,EACA,UAAU,mLAEb,EAAO,QAAQ,EACZ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA8B,EAAO,QAAQ,MAI9D,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACD,SAAU,EACV,UAAU,4MAET,EAAU,gBAAkB,eAIrC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,qDAA2C,yBACxB,IAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,YAAY,UAAU,yDAAgD,yBAS7G","ignoreList":[0,1,2,3,4,5,6,7,8]}