{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../app/lib/useAuth.ts","../../../../app/%28auth%29/register/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","\"use client\"\n\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { getAccessToken } from \"./auth\";\n\nconst PUBLIC_ROUTES = [\"/login\", \"/register\"]\n\nexport function useAuth (requireAuth: boolean = true) {\n    const router = useRouter()\n    const pathname = usePathname()\n    const [isLoading, setIsLoading] = useState(true)\n    const [isAuthenticated, setIsAuthenticated] = useState(false)\n\n    useEffect(() => {\n        const token = getAccessToken()\n        const hasToken = !!token\n\n        setIsAuthenticated(hasToken)\n\n        if (requireAuth && !hasToken) {\n            //User needs to be authenticated\n            router.replace(\"/login\")\n        } else if (!requireAuth && hasToken && PUBLIC_ROUTES.includes(pathname)) {\n            router.replace(\"/expense\")\n        } else {\n            setIsLoading(false)\n        }\n    }, [requireAuth, router, pathname])\n\n    return {isLoading, isAuthenticated}\n}","\"use client\"\n\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { ArrowLeft } from \"lucide-react\";\nimport { useAuth } from \"../../lib/useAuth\";\nimport { useState } from \"react\";\nimport { apiFetch } from \"../../lib/api\";\nimport { setAccessToken, setRefreshToken } from \"../../lib/auth\";\nimport { toast } from \"sonner\";\n\nexport default function RegisterPage() {\n    const router = useRouter();\n    const { isLoading: authLoading } = useAuth(false);\n    const [name, setName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [errors, setErrors] = useState<{\n        name?: string;\n        email?: string;\n        password?: string;\n        confirmPassword?: string;\n    }>({});\n\n    function validateForm() {\n        const newErrors: {\n            name?: string;\n            email?: string;\n            password?: string;\n            confirmPassword?: string;\n        } = {};\n\n        if (!name.trim()) {\n            newErrors.name = \"Name is required\";\n        } else if (name.trim().length < 2) {\n            newErrors.name = \"Name must be at least 2 characters\";\n        }\n\n        if (!email.trim()) {\n            newErrors.email = \"Email is required\";\n        } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\n            newErrors.email = \"Please enter a valid email\";\n        }\n\n        if (!password) {\n            newErrors.password = \"Password is required\";\n        } else if (password.length < 6) {\n            newErrors.password = \"Password must be at least 6 characters\";\n        }\n\n        if (password !== confirmPassword) {\n            newErrors.confirmPassword = \"Passwords do not match\";\n        }\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    }\n\n    async function handleRegister(e: React.FormEvent) {\n        e.preventDefault();\n\n        if (!validateForm()) return;\n\n        setLoading(true);\n\n        try {\n            const res = await apiFetch(\"/auth/register\", {\n                method: \"POST\",\n                body: JSON.stringify({ name, email, password }),\n            });\n\n            const data = await res.json();\n            if (!data.success) throw new Error(data.message || \"Registration failed\");\n\n            const tokens = data.data.tokens;\n            setAccessToken(tokens.accessToken);\n            setRefreshToken(tokens.refreshToken);\n\n            toast.success(\"Registration successful!\");\n            router.push(\"/expense\");\n        } catch (err: any) {\n            toast.error(err.message || \"Registration failed\");\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    if (authLoading) {\n        return (\n            <div className=\"flex items-center justify-center min-h-screen\">\n                <div className=\"text-center\">Loading...</div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800\">\n            <header className=\"border-b border-slate-700 bg-slate-900/50 backdrop-blur-sm\">\n                <div className=\"max-w-md mx-auto px-4 py-6\">\n                    <Link\n                        href=\"/\"\n                        className=\"flex items-center gap-2 text-sm text-slate-400 hover:text-slate-200 transition-colors\"\n                    >\n                        <ArrowLeft size={16} />\n                        Back\n                    </Link>\n                </div>\n            </header>\n\n            <div className=\"flex-1 flex items-center justify-center px-4 py-8\">\n                <div className=\"w-full max-w-md\">\n                    <div className=\"bg-slate-800 rounded-lg border border-slate-700 p-6\">\n                        <h1 className=\"text-2xl font-bold text-white mb-6\">Create Account</h1>\n                        <form onSubmit={handleRegister} className=\"space-y-4\">\n                            <div>\n                                <input\n                                    placeholder=\"Full Name\"\n                                    type=\"text\"\n                                    value={name}\n                                    onChange={(e) => {\n                                        setName(e.target.value);\n                                        if (errors.name)\n                                            setErrors({ ...errors, name: undefined });\n                                    }}\n                                    className=\"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500\"\n                                />\n                                {errors.name && (\n                                    <p className=\"text-red-400 text-sm mt-1\">{errors.name}</p>\n                                )}\n                            </div>\n\n                            <div>\n                                <input\n                                    placeholder=\"Email\"\n                                    type=\"email\"\n                                    value={email}\n                                    onChange={(e) => {\n                                        setEmail(e.target.value);\n                                        if (errors.email)\n                                            setErrors({ ...errors, email: undefined });\n                                    }}\n                                    className=\"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500\"\n                                />\n                                {errors.email && (\n                                    <p className=\"text-red-400 text-sm mt-1\">{errors.email}</p>\n                                )}\n                            </div>\n\n                            <div>\n                                <input\n                                    placeholder=\"Password\"\n                                    type=\"password\"\n                                    value={password}\n                                    onChange={(e) => {\n                                        setPassword(e.target.value);\n                                        if (errors.password)\n                                            setErrors({ ...errors, password: undefined });\n                                    }}\n                                    className=\"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500\"\n                                />\n                                {errors.password && (\n                                    <p className=\"text-red-400 text-sm mt-1\">{errors.password}</p>\n                                )}\n                            </div>\n\n                            <div>\n                                <input\n                                    placeholder=\"Confirm Password\"\n                                    type=\"password\"\n                                    value={confirmPassword}\n                                    onChange={(e) => {\n                                        setConfirmPassword(e.target.value);\n                                        if (errors.confirmPassword)\n                                            setErrors({\n                                                ...errors,\n                                                confirmPassword: undefined,\n                                            });\n                                    }}\n                                    className=\"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500\"\n                                />\n                                {errors.confirmPassword && (\n                                    <p className=\"text-red-400 text-sm mt-1\">\n                                        {errors.confirmPassword}\n                                    </p>\n                                )}\n                            </div>\n\n                            <button\n                                disabled={loading}\n                                className=\"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-600 text-white rounded font-medium transition-colors\"\n                            >\n                                {loading ? \"Creating Account...\" : \"Register\"}\n                            </button>\n                        </form>\n\n                        <p className=\"text-center mt-4 text-sm text-slate-400\">\n                            Already have an account?{\" \"}\n                            <Link href=\"/login\" className=\"text-blue-400 hover:text-blue-300\">\n                                Sign in\n                            </Link>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["module","exports","require","vendored","React","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime","ReactServerDOMTurbopackClient","ReactDOM"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7]}