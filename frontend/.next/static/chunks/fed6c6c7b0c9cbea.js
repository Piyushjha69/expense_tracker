(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},18566,(e,t,s)=>{t.exports=e.r(76562)},34461,e=>{"use strict";let t="access_token",s="refresh_token";function a(e){localStorage.setItem(t,e)}function r(e){localStorage.setItem(s,e)}function l(){localStorage.removeItem(t),localStorage.removeItem(s),window.location.href="/login"}e.s(["getAccessToken",0,()=>localStorage.getItem(t),"getRefreshToken",0,()=>localStorage.getItem(s),"logout",()=>l,"setAccessToken",()=>a,"setRefreshToken",()=>r])},26161,e=>{"use strict";var t=e.i(18566),s=e.i(71645),a=e.i(34461);let r=["/login","/register"];function l(e=!0){let o=(0,t.useRouter)(),i=(0,t.usePathname)(),[n,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let t=!!(0,a.getAccessToken)();u(t),e&&!t?o.replace("/login"):!e&&t&&r.includes(i)?o.replace("/expense"):c(!1)},[e,o,i]),{isLoading:n,isAuthenticated:d}}e.s(["useAuth",()=>l])},23426,e=>{"use strict";var t=e.i(43476),s=e.i(18566),a=e.i(22016),r=e.i(71689),l=e.i(26161),o=e.i(71645),i=e.i(7767),n=e.i(34461),c=e.i(46696);function d(){let e=(0,s.useRouter)(),{isLoading:d}=(0,l.useAuth)(!1),[u,m]=(0,o.useState)(""),[h,x]=(0,o.useState)(""),[g,f]=(0,o.useState)(!1),[p,b]=(0,o.useState)({});async function j(t){let s;if(t.preventDefault(),s={},u.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)||(s.email="Please enter a valid E-mail"):s.email="Email is required",h?h.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",b(s),0===Object.keys(s).length){f(!0);try{let t=await (0,i.apiFetch)("/auth/login",{method:"POST",body:JSON.stringify({email:u,password:h})}),s=await t.json();if(!s.success)throw Error(s.message||"Login failed");let a=s.data.tokens;(0,n.setAccessToken)(a.accessToken),(0,n.setRefreshToken)(a.refreshToken),c.toast.success("Login successful!"),e.push("/expense")}catch(e){c.toast.error(e.message||"Login Failed")}finally{f(!1)}}}return d?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"text-center",children:"Loading..."})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800",children:[(0,t.jsx)("header",{className:"border-b border-slate-700 bg-slate-900/50 backdrop-blur-sm",children:(0,t.jsx)("div",{className:"max-w-md mx-auto px-4 py-6",children:(0,t.jsxs)(a.default,{href:"/",className:"flex items-center gap-2 text-sm text-slate-400 hover:text-slate-200 transition-colors",children:[(0,t.jsx)(r.ArrowLeft,{size:16}),"Back"]})})}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center px-4 py-8",children:(0,t.jsx)("div",{className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-lg border border-slate-700 p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Sign In"}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{placeholder:"Email",type:"email",value:u,onChange:e=>{m(e.target.value),p.email&&b({...p,email:void 0})},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500"}),p.email&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",children:p.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{placeholder:"Password",type:"password",value:h,onChange:e=>{x(e.target.value),p.password&&b({...p,password:void 0})},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded text-white placeholder-slate-400 focus:outline-none focus:border-blue-500"}),p.password&&(0,t.jsx)("p",{className:"text-red-400 text-sm mt-1",children:p.password})]}),(0,t.jsx)("button",{disabled:g,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-600 text-white rounded font-medium transition-colors",children:g?"Signing in...":"Sign In"})]}),(0,t.jsxs)("p",{className:"text-center mt-4 text-sm text-slate-400",children:["Don't have an account?"," ",(0,t.jsx)(a.default,{href:"/register",className:"text-blue-400 hover:text-blue-300",children:"Register"})]})]})})})]})}e.s(["default",()=>d])}]);